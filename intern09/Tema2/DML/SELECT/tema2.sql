DROP TABLE OFICII CASCADE CONSTRAINTS;

CREATE TABLE OFICII (
COD_OFICIU VARCHAR2(2)NOT NULL CONSTRAINT COD_OFICIU PRIMARY KEY,
LOCALITATE VARCHAR2(15),
REGIUNEA VARCHAR2(6),
COD_MANAGER VARCHAR2(3)
);

DROP TABLE COMPANII CASCADE CONSTRAINTS;

CREATE TABLE COMPANII(
COD_COMPANIE VARCHAR2(2) NOT NULL CONSTRAINT COD_COMPANIE PRIMARY KEY,
COMPANIA VARCHAR2(15),
REPREZENTANT_COMPANIE VARCHAR2(3),
DATORIA NUMBER(10,2)
);

DROP TABLE ANGAJATI CASCADE CONSTRAINTS;

CREATE TABLE ANGAJATI(
COD_ANGAJAT VARCHAR2(2) NOT NULL CONSTRAINT COD_ANGAJAT PRIMARY KEY,
NUME VARCHAR2(15),
PRENUME VARCHAR2(15),
VARSTA NUMBER,
FUNCTIA VARCHAR2(20),
COD_OFICIU VARCHAR2(2),
DATA_ANGAJARII DATE,
SUMA_PLANIFICATA NUMBER(10,2)
);

DROP TABLE PRODUSE CASCADE CONSTRAINTS;

CREATE TABLE PRODUSE(
COD_PRODUS NUMBER CONSTRAINT COD_PRODUS PRIMARY KEY,
DESCRIERE VARCHAR2(30),
PRET NUMBER(10,2),
EXISTA VARCHAR2(1),
CONSTRAINT CHECK_EXISTA CHECK(EXISTA='Y' OR EXISTA='N')
);

DROP SEQUENCE INTERN09.COD_PRODUS_SEQ;

CREATE SEQUENCE COD_PRODUS_SEQ
		INCREMENT BY 1
		START WITH 1
		MAXVALUE 9999
		NOCACHE
		NOCYCLE;

DROP TABLE TRANZACTII CASCADE CONSTRAINTS;
    
CREATE TABLE TRANZACTII(
DATA_COMENZII DATE,
COD_CLIENT VARCHAR2(2),
COD_VANZATOR VARCHAR2(3),
COD_PRODUS NUMBER,
CANTITATEA NUMBER
);

ALTER TABLE OFICII ADD CONSTRAINT FK_COD_MANAGER FOREIGN KEY(COD_MANAGER) REFERENCES ANGAJATI(COD_ANGAJAT);
ALTER TABLE COMPANII ADD CONSTRAINT FK_REPREZENTANT_COMPANIE FOREIGN KEY(REPREZENTANT_COMPANIE) REFERENCES ANGAJATI(COD_ANGAJAT);
ALTER TABLE ANGAJATI ADD CONSTRAINT FK_COD_OFICIU FOREIGN KEY(COD_OFICIU) REFERENCES OFICII(COD_OFICIU);
ALTER TABLE TRANZACTII ADD CONSTRAINT FK_COD_CLIENT FOREIGN KEY(COD_CLIENT) REFERENCES COMPANII(COD_COMPANIE);
ALTER TABLE TRANZACTII ADD CONSTRAINT FK_COD_VANZATOR FOREIGN KEY(COD_VANZATOR) REFERENCES ANGAJATI(COD_ANGAJAT);
ALTER TABLE TRANZACTII ADD CONSTRAINT FK_COD_PRODUS FOREIGN KEY(COD_PRODUS) REFERENCES PRODUSE(COD_PRODUS);


INSERT INTO OFICII VALUES ('BL','Beltsy','nord',null);
INSERT INTO OFICII VALUES ('C','Kishinew','centru',null);
INSERT INTO OFICII VALUES ('CH','Cahul','sud',null);
INSERT INTO OFICII VALUES ('ED','Edinets','nord',null);
INSERT INTO OFICII VALUES ('GL','Glodeni','nord',null);
INSERT INTO OFICII VALUES ('OR','Orhei','centru',null);
INSERT INTO OFICII VALUES ('RZ','Rezina','nord',null);
INSERT INTO OFICII VALUES ('SR','Soroca','nord',null);
INSERT INTO OFICII VALUES ('UN','Ungheni','centru',null);


INSERT INTO ANGAJATI VALUES ('BC','Bucataru','Constantin',31,'contabil','SR',TO_DATE('18.01.2001','DD.MM.YYYY'),0);
INSERT INTO ANGAJATI VALUES ('BN','Bucur','Nicolae',27,'manager','SR',TO_DATE('31.01.2001','DD.MM.YYYY'),28000);
INSERT INTO ANGAJATI VALUES ('CI','Cozma','Ion',20,'reprezentant','OR',TO_DATE('17.11.2001','DD.MM.YYYY'),2000);
INSERT INTO ANGAJATI VALUES ('DE','Dodon','Elena',34,'contabil','ED',TO_DATE('20.02.2000','DD.MM.YYYY'),0);
INSERT INTO ANGAJATI VALUES ('DR','Dutca','Radion',33,'reprezentant','GL',TO_DATE('12.12.1999','DD.MM.YYYY'),3250);
INSERT INTO ANGAJATI VALUES ('FE','Frumosu','Emilia',37,'contabil','ED',TO_DATE('12.02.1998','DD.MM.YYYY'),0);
INSERT INTO ANGAJATI VALUES ('FN','Florea','Nicoleta',23,'reprezentant','BL',TO_DATE('13.06.2000','DD.MM.YYYY'),2500);
INSERT INTO ANGAJATI VALUES('GC','Grosu','Corina',19,'reprezentant','RZ',TO_DATE('04.04.2000','DD.MM.YYYY'),1900);
INSERT INTO ANGAJATI VALUES('GI','Gomoja','Ilie',32,'reprezentant','CH',TO_DATE('13.07.2005','DD.MM.YYYY'),3250);
INSERT INTO ANGAJATI VALUES('GL','Grosu','Leonid',23,'reprezentant','ED',TO_DATE('28.03.2000','DD.MM.YYYY'),2500);
INSERT INTO ANGAJATI VALUES('GM','Grosu','Mihai',42,'sef','C',TO_DATE('07.02.1998','DD.MM.YYYY'),0);
INSERT INTO ANGAJATI VALUES('GT','Graur','Teodor',35,'reprezentant','SR',TO_DATE('18.08.2004','DD.MM.YYYY'),35000);
INSERT INTO ANGAJATI VALUES('HI','Harea','Igor',25,'manager','CH',TO_DATE('30.03.2003','DD.MM.YYYY'),22000);
INSERT INTO ANGAJATI VALUES('LA','Lungu','Alexandru',42,'sef adjunc','C',TO_DATE('07.02.1998','DD.MM.YYYY'),0);
INSERT INTO ANGAJATI VALUES('LV','Lisnic','Vladimir',29,'manager','OR',TO_DATE('13.09.2001','DD.MM.YYYY'),351);
INSERT INTO ANGAJATI VALUES('ML','Mutu','Livia',38,'manager','BL',TO_DATE('09.02.1999','DD.MM.YYYY'),15000);
INSERT INTO ANGAJATI VALUES('MS','Mutu','Sorina',35,'reprezentant','UN',TO_DATE('06.04.2004','DD.MM.YYYY'),3500);
INSERT INTO ANGAJATI VALUES('NV','Nanu','Vasile',45,'reprezentant','C',TO_DATE('09.02.1998','DD.MM.YYYY'),4500);
INSERT INTO ANGAJATI VALUES('PI','Prisacaru','Inga',27,'reprezentant','UN',TO_DATE('18.03.2001','DD.MM.YYYY'),2750);
INSERT INTO ANGAJATI VALUES('RD','Rusu','Dorina',35,'reprezentant','OR',TO_DATE('18.09.2001','DD.MM.YYYY'),3500);
INSERT INTO ANGAJATI VALUES('SA','Speriatu','Ana',31,'contabil','GL',TO_DATE('15.01.2003','DD.MM.YYYY'),0);
INSERT INTO ANGAJATI VALUES('SD','Spada','Doru',29,'manager','RZ',TO_DATE('12.01.2003','DD.MM.YYYY'),18000);
INSERT INTO ANGAJATI VALUES('SM','Surdu','Mihaiela',25,'reprezentant','BL',TO_DATE('12.03.2000','DD.MM.YYYY'),20000);
INSERT INTO ANGAJATI VALUES('VD','Vieru','Dorin',32,'manager','C',TO_DATE('08.02.1998','DD.MM.YYYY'),80000);
INSERT INTO ANGAJATI VALUES('VI','Vrabie','Ion',42,'contabil','RZ',TO_DATE('18.10.2002','DD.MM.YYYY'),0);


INSERT INTO COMPANII VALUES ('AL','Auto Lada','NV',7500.00);
INSERT INTO COMPANII VALUES ('AS','Asito','PI',26000.00);
INSERT INTO COMPANII VALUES ('AT','Astra','PI',14780.00);
INSERT INTO COMPANII VALUES ('AV','Avon','GC',12000.00);
INSERT INTO COMPANII VALUES ('BA','Basarabia','GC',0.00);
INSERT INTO COMPANII VALUES ('BI','Bizpro','PI',13050.00);
INSERT INTO COMPANII VALUES ('CA','Cascad','GI',12300.00);
INSERT INTO COMPANII VALUES ('FB','Floribel','GL',600.00);
INSERT INTO COMPANII VALUES ('FL','Floarea','GL',0.00);
INSERT INTO COMPANII VALUES ('IL','InLac','GI',1000.00);
INSERT INTO COMPANII VALUES ('KN','Knauf','PI',0.00);
INSERT INTO COMPANII VALUES ('LO','Luck Oil','NV',13000.00);
INSERT INTO COMPANII VALUES ('PA','Patria','DR',500.00);
INSERT INTO COMPANII VALUES ('PE','Petrom','NV',50000.00);
INSERT INTO COMPANII VALUES ('TC','TransCom','MS',6000.00);
INSERT INTO COMPANII VALUES ('TI','Tirex','NV',5000.00);
INSERT INTO COMPANII VALUES ('TU','Tutun Ind','GL',1000.00);
INSERT INTO COMPANII VALUES ('VT','Vitanta','GI',800.00);
INSERT INTO COMPANII VALUES ('ZO','Zorile','GT',22890.00);

INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Monitor LG 17"',100.00,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Monitor Samsung 15"',50.00,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Televizor JVS 54cm"',280.00,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Procesor Pentium 4',130.00,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Procesor Celeron 2000',125.00,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Mouse Genius optic',4.00,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Mouse Logitech optic',5.00,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Televizor Sony 72cm',485.00,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'DVD Sony 50',75.00,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'DVD Sony 32-16-32',135,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'CD-R Benq 700MB',0.10,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'CD-Rw Benq 700MB',0.25,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL, 'Tastiera Logitech alba',6.75,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL, 'Tastiera Logitech neagra',9.75,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL, 'Monitor Samsung 17"',85.50,'Y');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Monitor Samsung 21"',109.50,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Monitor Samtron 15"',35.50,'N');
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Televizor Alfa 51cm',100.40,'Y'); 
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Televizor Polar 54cm' , 200.00 , 'N'); 
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Filtru Sven 220V' , 3.75 , 'Y'); 
INSERT INTO PRODUSE VALUES (COD_PRODUS_SEQ.NEXTVAL,'Telefon Siemens A55' , 200.00 , 'Y');

INSERT INTO TRANZACTII VALUES(TO_DATE('01.01.2005','DD.MM.YYYY'),'BI','NV',7,5);
INSERT INTO TRANZACTII VALUES(TO_DATE('01.01.2005','DD.MM.YYYY'),'IL','PI',15,4);
INSERT INTO TRANZACTII VALUES(TO_DATE('03.01.2005','DD.MM.YYYY'),'VT','HI',14,12);
INSERT INTO TRANZACTII VALUES(TO_DATE('03.01.2005','DD.MM.YYYY'),'ZO','GI',12,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('14.01.2005','DD.MM.YYYY'),'VT','BN',15,8);
INSERT INTO TRANZACTII VALUES(TO_DATE('18.01.2005','DD.MM.YYYY'),'TI','GL',12,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('31.01.2005','DD.MM.YYYY'),'CA','GI',11,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('31.01.2005','DD.MM.YYYY'),'VT','BN',14,9);
INSERT INTO TRANZACTII VALUES(TO_DATE('02.02.2005','DD.MM.YYYY'),'PE','SM',12,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('11.02.2005','DD.MM.YYYY'),'LO','SM',2,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('11.02.2005','DD.MM.YYYY'),'TI','FN',21,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('22.02.2005','DD.MM.YYYY'),'TI','NV',13,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('02.03.2005','DD.MM.YYYY'),'AL','LV',17,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('03.03.2005','DD.MM.YYYY'),'FL','PI',11,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('04.03.2005','DD.MM.YYYY'),'TI','SD',14,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('12.03.2005','DD.MM.YYYY'),'FL','PI',8,1);
INSERT INTO TRANZACTII VALUES(TO_DATE('12.03.2005','DD.MM.YYYY'),'VT','GI',14,4);
INSERT INTO TRANZACTII VALUES(TO_DATE('26.03.2005','DD.MM.YYYY'),'AS','GC',8,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('26.03.2005','DD.MM.YYYY'),'PA','SD',12,10);
INSERT INTO TRANZACTII VALUES(TO_DATE('04.04.2005','DD.MM.YYYY'),'AT','DR',11,5);
INSERT INTO TRANZACTII VALUES(TO_DATE('14.04.2005','DD.MM.YYYY'),'FL','SM',13,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('18.04.2005','DD.MM.YYYY'),'AS','LV',3,1);
INSERT INTO TRANZACTII VALUES(TO_DATE('18.04.2005','DD.MM.YYYY'),'PE','BC',18,8);
INSERT INTO TRANZACTII VALUES(TO_DATE('18.04.2005','DD.MM.YYYY'),'TC','ML',20,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('01.05.2005','DD.MM.YYYY'),'ZO','BN',21,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('24.05.2005','DD.MM.YYYY'),'AT','FN',3,10);
INSERT INTO TRANZACTII VALUES(TO_DATE('24.05.2005','DD.MM.YYYY'),'AV','CI',19,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('13.06.2005','DD.MM.YYYY'),'AT','GC',9,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('13.06.2005','DD.MM.YYYY'),'PA','HI',13,11);
INSERT INTO TRANZACTII VALUES(TO_DATE('16.06.2005','DD.MM.YYYY'),'FB','PI',16,8);
INSERT INTO TRANZACTII VALUES(TO_DATE('04.07.2005','DD.MM.YYYY'),'ZO','HI',11,5);
INSERT INTO TRANZACTII VALUES(TO_DATE('11.07.2005','DD.MM.YYYY'),'TI','PI',15,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('16.07.2005','DD.MM.YYYY'),'FB','RD',18,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('16.07.2005','DD.MM.YYYY'),'ZO','ML',4,11);
INSERT INTO TRANZACTII VALUES(TO_DATE('08.08.2005','DD.MM.YYYY'),'LO','DR',5,9);
INSERT INTO TRANZACTII VALUES(TO_DATE('08.08.2005','DD.MM.YYYY'),'PA','GC',11,4);
INSERT INTO TRANZACTII VALUES(TO_DATE('16.08.2005','DD.MM.YYYY'),'CA','CI',5,12);
INSERT INTO TRANZACTII VALUES(TO_DATE('16.08.2005','DD.MM.YYYY'),'VT','NV',17,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('20.09.2005','DD.MM.YYYY'),'KN','RD',6,2);
INSERT INTO TRANZACTII VALUES(TO_DATE('20.09.2005','DD.MM.YYYY'),'PA','NV',16,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('10.10.2005','DD.MM.YYYY'),'AT','MS',11,5);
INSERT INTO TRANZACTII VALUES(TO_DATE('10.10.2005','DD.MM.YYYY'),'VT','MS',20,7);
INSERT INTO TRANZACTII VALUES(TO_DATE('11.11.2005','DD.MM.YYYY'),'PE','SD',19,6);
INSERT INTO TRANZACTII VALUES(TO_DATE('12.11.2005','DD.MM.YYYY'),'PA','DR',12,4);
INSERT INTO TRANZACTII VALUES(TO_DATE('12.11.2005','DD.MM.YYYY'),'PE','BN',4,3);
INSERT INTO TRANZACTII VALUES(TO_DATE('19.11.2005','DD.MM.YYYY'),'CA','PI',17,8);
INSERT INTO TRANZACTII VALUES(TO_DATE('12.12.2005','DD.MM.YYYY'),'IL','GL',13,4);
INSERT INTO TRANZACTII VALUES(TO_DATE('12.12.2005','DD.MM.YYYY'),'TI','GI',3,2);


UPDATE OFICII SET COD_MANAGER='ML' WHERE COD_OFICIU='BL';
UPDATE OFICII SET COD_MANAGER='VD' WHERE COD_OFICIU='C';
UPDATE OFICII SET COD_MANAGER='HI' WHERE COD_OFICIU='CH';
UPDATE OFICII SET COD_MANAGER='ML' WHERE COD_OFICIU='ED';
UPDATE OFICII SET COD_MANAGER='ML' WHERE COD_OFICIU='GL';
UPDATE OFICII SET COD_MANAGER='LV' WHERE COD_OFICIU='OR';
UPDATE OFICII SET COD_MANAGER='SD' WHERE COD_OFICIU='RZ';
UPDATE OFICII SET COD_MANAGER='BN' WHERE COD_OFICIU='SR';
UPDATE OFICII SET COD_MANAGER='VD' WHERE COD_OFICIU='UN';

SELECT * 
FROM OFICII;

SELECT * 
FROM ANGAJATI;

SELECT * 
FROM COMPANII;

SELECT * 
FROM PRODUSE;

SELECT * 
FROM TRANZACTII;